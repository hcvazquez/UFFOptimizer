# UFFOptimizer Benchmark

We selected 22 JS applications. Each selected application meet the following conditions:
* it must be open-source
* it can be used on the front-end
* test coverage of the functions of the application must be greater than 85\% 
* it must depend on at least one library
* it must have information about how to compile it and run the tests

The file "Results data.cvs" details the set of applications, their characteristics and findings.
"Results data.cvs" shows not only the direct libraries from which each application depends on but also the indirect dependencies that are generated by the direct dependencies (all the libraries resulting from these dependencies are  part of the bundle). For instance, while geojsonhint only  depends directly on 5 libraries, geojsonhint indirectly depends on 19 libraries. Thus, geojsonhint depends on a total of 24 libraries.

Another interesting information is the percentage of Lines of Code (LOC) from the bundle that belongs to dependent libraries. While the total number of LOC of all bundles is 335,819, a 158,695 of them belongs to dependent libraries (47.26%). Something similar happens with the number of functions. A total of 19,586 functions are defined in the bundles but 10,063 of them belong to libraries (51.38%). Thus, since the incidence of libraries in the bundle is large, it is important to analyze the functions that belong to dependent libraries with the goal of removing those functions being unnecessary. Also, "Results data.cvs" reports for each application the size of the minified bundle. If the application already had a minifier script, we used that minifier. If not, we used Uglify (http://lisperator.net/uglifyjs/).

Finally, "Results data.cvs" also contains the results of our approach. When instrumenting the source code and running the Dynamic UFF Detection activity, we found a total of 7,021 UFFs in the bundles. That is, 69.77% of the functions in the bundle that belong to dependent libraries are UFFs (35.85% of the total number of functions in the bundle). Moreover, these UFFs are responsible for a high number of lines of code of the bundle. Specifically, \UFFs represent a  54.35% of the LOC in the bundle that belongs to dependent modules (25.68% of the total number of LOC in the bundle).

### What is the percentage of UFFs in js applications? 
The percentages of UFFs in JS applications is in the range 14.69%-47.17%. Some of the applications are outliers such as *teoria* and *virtual-dom* that only report a 1.7% of UFFs. After manually analyzing their source code we found that the low percentage of UFFs is due to the fact that both applications depend on very few functions (*teoria* has in its bundle only 11 functions that belongs to dependencies and *virtual-dom* has only 8 functions). Moreover, we tested for a correlation between the percentage of functions in the bundle belonging to dependencies and the percentage of UFFs using the Pearson's correlation and we obtained a value of 0.91. Thus, the percentage of UFFs is directly correlated with the percentage of functions of depending libraries.  The greater the percentage of such functions in the bundle,  the greater the percentages of UFFs. This result seems to imply that the use of external libraries in JS applications increments the unused code, justifying the need of removing UFFs.

